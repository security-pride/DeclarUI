import React from 'react';
import { View, Text, StyleSheet, Image, ScrollView, TouchableOpacity } from 'react-native';

const GasInformationScreen = ({ navigation }) => {
  const handleStationPress = (stationName) => {
    navigation.navigate('GasStationDetails', { name: stationName });
  };

  return (
    <View style={styles.container}>
      <View style={styles.header}>
        <TouchableOpacity onPress={() => navigation.goBack()}>
          <Text style={styles.backButton}>{'<'}</Text>
        </TouchableOpacity>
        <Text style={styles.headerTitle}>高德车服·加油</Text>
        <TouchableOpacity>
          <Text style={styles.searchButton}>🔍</Text>
        </TouchableOpacity>
      </View>
      
      <ScrollView contentContainerStyle={styles.bodyContent}>
        <View style={styles.quickAccessButtonsContainer}>
          {QuickAccessButtons.map((button, index) => (
            <View style={styles.quickAccessButton} key={index}>
              <Text style={styles.icon}>{button.icon}</Text>
              <Text style={styles.buttonLabel}>{button.name}</Text>
            </View>
          ))}
        </View>
        
        <View style={styles.promoSection}>
          <Text style={styles.promoMainTitle}>天天"油"惠</Text>
          <Text style={styles.promoSubtitle}>单回本，单单省！</Text>
          <TouchableOpacity style={styles.promoButton}><Text style={styles.promoButtonText}>立即查看</Text></TouchableOpacity>
        </View>
        
        <View style={styles.mainContent}>
          <Text style={styles.mainTitle}>高德车服·加油</Text>
          <Text style={styles.mainSubtitle}>站超多 巨划算</Text>
          <Text style={styles.promoTag}>高德红包 满200减8</Text>
          
          <View style={styles.filterOptions}>
            {FilterOptions.map((option, index) => (
              <TouchableOpacity style={styles.filterOption} key={index}>
                <Text style={styles.filterOptionText}>{option}</Text>
              </TouchableOpacity>
            ))}
          </View>

          {GasStations.map((station, index) => (
            <TouchableOpacity 
              style={styles.stationCard}
              key={index}
              onPress={() => handleStationPress(station.name)}
            >
              <Image source={require('../assets/snack-icon.png')} style={styles.stationImage} />
              <View style={styles.stationInfo}>
                <View style={styles.discountTagContainer}>
                  <Text style={styles.discountTag}>优惠加油</Text>
                </View>
                <Text style={styles.stationTitle}>{station.name}</Text>
                <Text style={styles.detailText}>{station.distance} {station.price} 加200省 {station.discount}</Text>
                <TouchableOpacity style={styles.actionButton}><Text style={styles.actionButtonText}>立即加油</Text></TouchableOpacity>
              </View>
            </TouchableOpacity>
          ))}
        </View>
      </ScrollView>
      
      <View style={styles.bottomNavigation}>
        {BottomNavButtons.map((button, index) => (
          <TouchableOpacity key={index} style={styles.navButton}>
            <Text style={styles.navIcon}>{button.icon}</Text>
            <Text style={styles.navLabel}>{button.name}</Text>
          </TouchableOpacity>
        ))}
      </View>
    </View>
  );
};

const QuickAccessButtons = [
  { name: '新人专享', icon: '🎉' },
  { name: '调价补贴', icon: '🔥' },
  { name: '领券中心', icon: '🎟️' },
  { name: '分享油礼', icon: '🎁' },
  { name: '油惠卡', icon: '💳' },
];

const FilterOptions = [
  '推荐排序', '92#', '全部品牌'
];

const GasStations = [
  { name: '供销石油加油站', distance: '3km', price: '¥7.56/L', originalPrice: '¥7.87/L', discount: '8' },
  { name: '烟台交运石油二马路金沟寨加油站', distance: '1.4km', price: '¥7.56/L', originalPrice: '¥8.07/L', discount: '13' },
  { name: '中化石油安顺加油站(安顺站)', distance: '7.1km', price: '¥6.86/L', originalPrice: '¥7.97/L', discount: '28' },
];

const BottomNavButtons = [
  { name: '首页', icon: '🏠' },
  { name: '附近', icon: '📍' },
  { name: '消息', icon: '✉️' },
  { name: '打车', icon: '🚖' },
  { name: '我的', icon: '👤' },
];

const styles = StyleSheet.create({
  container: {
    flex: 1,
    backgroundColor: '#ffffff',
  },
  header: {
    flexDirection: 'row',
    justifyContent: 'space-between',
    paddingHorizontal: 10,
    paddingVertical: 15,
    backgroundColor: '#fff',
    borderBottomWidth: 1,
    borderBottomColor: '#ececec',
  },
  backButton: {
    fontSize: 18,
    color: '#000',
  },
  headerTitle: {
    fontSize: 18,
    fontWeight: 'bold',
    color: '#000',
  },
  searchButton: {
    fontSize: 18,
    color: '#000',
  },
  bodyContent: {
    padding: 10,
  },
  quickAccessButtonsContainer: {
    flexDirection: 'row',
    justifyContent: 'space-between',
    marginVertical: 15,
  },
  quickAccessButton: {
    alignItems: 'center',
    width: 60,
  },
  icon: {
    fontSize: 24,
    marginBottom: 5,
  },
  buttonLabel: {
    fontSize: 10,
  },
  promoSection: {
    backgroundColor: '#f5f5f5',
    padding: 10,
    borderRadius: 10,
    alignItems: 'center',
    marginVertical: 15,
  },
  promoMainTitle: {
    fontSize: 18,
    fontWeight: 'bold',
  },
  promoSubtitle: {
    fontSize: 14,
    color: '#888',
    marginVertical: 5,
  },
  promoButton: {
    backgroundColor: '#ffcc00',
    padding: 5,
    borderRadius: 5,
  },
  promoButtonText: {
    fontSize: 14,
  },
  mainContent: {
    padding: 10,
  },
  mainTitle: {
    fontSize: 18,
    fontWeight: 'bold',
  },
  mainSubtitle: {
    fontSize: 14,
    color: '#888',
    marginVertical: 5,
  },
  promoTag: {
    fontSize: 14,
    color: '#ff4646',
    fontWeight: 'bold',
    marginBottom: 10,
  },
  filterOptions: {
    flexDirection: 'row',
    justifyContent: 'space-between',
    marginVertical: 10,
  },
  filterOption: {
    paddingVertical: 5,
    paddingHorizontal: 10,
    borderRadius: 5,
    backgroundColor: '#ececec',
  },
  filterOptionText: {
    fontSize: 12,
  },
  stationCard: {
    flexDirection: 'row',
    padding: 10,
    backgroundColor: '#fff',
    borderRadius: 10,
    marginVertical: 5,
    elevation: 2,
  },
  stationImage: {
    width: 80,
    height: 80,
    borderRadius: 10,
    marginRight: 10,
  },
  stationInfo: {
    flex: 1,
  },
  discountTagContainer: {
    backgroundColor: '#ff4646',
    padding: 2,
    borderRadius: 5,
    alignSelf: 'flex-start',
    marginBottom: 5,
  },
  discountTag: {
    fontSize: 10,
    color: '#fff',
  },
  stationTitle: {
    fontSize: 16,
    fontWeight: 'bold',
    marginBottom: 5,
  },
  detailText: {
    fontSize: 12,
    color: '#888',
    marginBottom: 5,
  },
  actionButton: {
    backgroundColor: '#ffcc00',
    padding: 5,
    borderRadius: 5,
  },
  actionButtonText: {
    fontSize: 12,
  },
  bottomNavigation: {
    flexDirection: 'row',
    justifyContent: 'space-between',
    padding: 10,
    backgroundColor: '#fff',
    borderTopWidth: 1,
    borderTopColor: '#ececec',
    position: 'absolute',
    bottom: 0,
    width: '100%',
  },
  navButton: {
    alignItems: 'center',
  },
  navIcon: {
    fontSize: 24,
  },
  navLabel: {
    fontSize: 10,
  },
});

export default GasInformationScreen;