import React from 'react';
import { View, Text, StyleSheet, TextInput, Image, ScrollView, TouchableOpacity } from 'react-native';
import Icon from 'react-native-vector-icons/Ionicons';

const TravelScreen = () => {
  return (
    <View style={styles.container}>
      <ScrollView>
        <View style={styles.header}>
          <View style={styles.searchBar}>
            <Icon name="location-outline" size={20} color="#000" />
            <TextInput
              style={styles.input}
              placeholder="烟台出发"
            />
            <TextInput
              style={styles.textInput}
              placeholder="目的地/关键词"
            />
            <Icon name="search-outline" size={20} color="#000" />
          </View>
          <View style={styles.visaFreeDestinations}>
            {['泰国', '新加坡', '马尔代夫', '马来西亚', '巴厘'].map((destination, index) => (
              <Text style={styles.destinationText} key={index}>{destination}</Text>
            ))}
          </View>
        </View>

        <View style={styles.categorySection}>
          {['跟团游', '私家团', '当地参团', '邮轮', '自由行', '定制旅行', '包车游', '一日游', '门票・玩乐'].map((category, index) => (
            <TouchableOpacity style={styles.categoryItem} key={index}>
              <Image source={require('../assets/snack-icon.png')} style={styles.categoryImage}/>
              <Text style={styles.categoryText}>{category}</Text>
            </TouchableOpacity>
          ))}
        </View>

        <View style={styles.banner}>
          <Image source={require('../assets/snack-icon.png')} style={styles.bannerImage} />
        </View>

        <View style={styles.nearbyStores}>
          <Icon name="home-outline" size={20} color="#000" />
          <Text style={styles.nearbyText}>附近有3家携程门店</Text>
          <TouchableOpacity>
            <Text style={styles.lastDistanceText}>最近距离您3.5km</Text>
          </TouchableOpacity>
        </View>

        <View style={styles.travelSection}>
          <Text style={styles.travelSectionText}>国内游</Text>
          <TouchableOpacity>
            <Text style={styles.moreText}>更多</Text>
          </TouchableOpacity>
        </View>

        <View style={styles.destinationImages}>
          {[
            { label: '烟台', subLabel: '蓬莱阁' },
            { label: '新疆', subLabel: '探访我的阿勒泰' },
            { label: '日本', subLabel: '东京' },
            { label: '韩国', subLabel: '首尔' },
            { label: '威海', subLabel: '' },
            { label: '山东', subLabel: '' },
            { label: '仙本那', subLabel: '' },
            { label: '泰国', subLabel: '' }
          ].map((destination, index) => (
            <View style={styles.destinationItem} key={index}>
              <Image source={require('../assets/snack-icon.png')} style={styles.destinationImage}/>
              <Text style={styles.destinationLabel}>{destination.label}</Text>
              {destination.subLabel ? <Text style={styles.destinationSubLabel}>{destination.subLabel}</Text> : null}
            </View>
          ))}
        </View>
      </ScrollView>

      <View style={styles.bottomNav}>
        {['旅游首页', '目的地', '浏览历史', '我的收藏', '我的订单'].map((item, index) => (
          <TouchableOpacity key={index} style={styles.navItem}>
            <Icon name="pricetag-outline" size={24} color="#000" />
            <Text style={styles.navText}>{item}</Text>
          </TouchableOpacity>
        ))}
      </View>
    </View>
  );
};

const styles = StyleSheet.create({
  container: {
    flex: 1,
    backgroundColor: '#f5f5f5',
  },
  header: {
    padding: 10,
    backgroundColor: '#ffffff',
  },
  searchBar: {
    flexDirection: 'row',
    alignItems: 'center',
    backgroundColor: '#e0e0e0',
    borderRadius: 10,
    padding: 5,
    marginBottom: 10,
  },
  input: {
    flex: 1,
    paddingLeft: 10,
    color: '#000',
  },
  textInput: {
    flex: 2,
    paddingLeft: 10,
    color: '#000',
  },
  visaFreeDestinations: {
    flexDirection: 'row',
    justifyContent: 'space-between',
  },
  destinationText: {
    marginHorizontal: 5,
    color: '#000',
  },
  categorySection: {
    flexDirection: 'row',
    justifyContent: 'space-around',
    flexWrap: 'wrap',
    padding: 10,
  },
  categoryItem: {
    width: '30%',
    alignItems: 'center',
    marginVertical: 10,
  },
  categoryImage: {
    width: 50,
    height: 50,
    resizeMode: 'cover',
  },
  categoryText: {
    marginTop: 5,
    color: '#000',
    fontSize: 12,
  },
  banner: {
    width: '100%',
    marginVertical: 10,
  },
  bannerImage: {
    width: '100%',
    height: 100,
    resizeMode: 'cover',
  },
  nearbyStores: {
    flexDirection: 'row',
    alignItems: 'center',
    justifyContent: 'space-between',
    padding: 10,
    backgroundColor: '#ffffff',
    marginBottom: 10,
  },
  nearbyText: {
    color: '#000',
  },
  lastDistanceText: {
    color: '#3498db',
  },
  travelSection: {
    flexDirection: 'row',
    justifyContent: 'space-between',
    padding: 10,
    backgroundColor: '#ffffff',
  },
  travelSectionText: {
    color: '#000',
    fontSize: 16,
  },
  moreText: {
    color: '#3498db',
  },
  destinationImages: {
    flexDirection: 'row',
    flexWrap: 'wrap',
    justifyContent: 'space-around',
  },
  destinationItem: {
    width: '48%',
    marginVertical: 5,
    backgroundColor: '#ffffff',
    padding: 10,
    alignItems: 'center',
  },
  destinationImage: {
    width: '100%',
    height: 100,
    resizeMode: 'cover',
  },
  destinationLabel: {
    color: '#000',
    marginTop: 5,
  },
  destinationSubLabel: {
    color: '#aaa',
    fontSize: 12,
  },
  bottomNav: {
    flexDirection: 'row',
    justifyContent: 'space-around',
    position: 'absolute',
    bottom: 0,
    width: '100%',
    backgroundColor: '#ffffff',
    paddingVertical: 10,
    borderTopWidth: 1,
    borderTopColor: '#dedede',
  },
  navItem: {
    alignItems: 'center',
  },
  navText: {
    marginTop: 5,
    fontSize: 12,
    color: '#000',
  },
});

export default TravelScreen;